{"mappings":"AAAO,MCUMA,EAAOC,eAClBC,EACAC,EACAC,GAEA,IACE,MAAMC,EAAWD,EACbE,MAAMJ,EAAK,CACTK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUP,KAEvBE,MAAMJ,EAAKC,GAETS,QAAYC,QAAQC,KAAK,CAACT,GAxBVU,EDFC,GCGlB,IAAIF,SAAQ,SAAUG,EAAGC,GAC9BC,YAAW,KACTD,EAAO,IAAIE,MAAM,qDAAqD,GAC9D,IAAPJ,E,OAsBGK,QAAaR,EAAIS,OAEvB,IAAKT,EAAIU,GAAI,MAAM,IAAIH,MAAM,GAAGC,EAAKG,YAAYX,EAAIY,WAErD,OAAOJ,C,CACP,MAAOK,GAEP,MAAMA,C,CAjCM,IAAUV,C,ECEbW,EAAU,CACrBC,WAAY,GACZC,cAAe,CACbC,SAAU,GACNC,oBACF,OAAOC,KAAKF,SAASG,M,IAKdC,EAAQ,CACnBC,aAASC,EACTC,OAAQ,CACNC,QAAS,GACTC,KAAM,EACNC,eFlBwB,KGDb,MAAAC,EACbpB,GCWa,IAZf,MACEqB,cACEV,MAAKW,G,CAEPA,KACE,MACMC,EADSC,SAASC,cAAc,UACVC,aACRF,SAASC,cAAc,QAC/BE,MAAMC,UAAY,GAAGL,K,GC4BtB,IAnCf,cAAyBH,EACvBS,GAAiBL,SAASC,cAAc,mBACxCJ,cACES,QACAnB,MAAKoB,G,CAEPA,KACEC,OAAOC,iBAAiB,SAASC,IAC/BA,EAAEC,iBACF,MAAMC,EAAUF,EAAEG,OAAOC,QAAQ,aACbJ,EAAEG,OAAOC,QAAQ,+BAChBF,IACrBzB,MAAK4B,GAAa,G,CAGtBA,KACE,MAAMH,EAAUZ,SAASC,cAAc,YACjCe,EAAgBhB,SAASC,cAAc,mBACvCgB,EAAcjB,SAASC,cAAc,QAE3Ce,EAAcE,UAAUC,SAAS,UAC5BH,EAAcb,MAAMiB,UAAY,gBAChCJ,EAAcb,MAAMiB,UAAY,mBAErCR,EAAQM,UAAUG,OAAO,UACzBL,EAAcE,UAAUG,OAAO,UAC/BJ,EAAYC,UAAUG,OAAO,O,GCpBlB,IALf,cAA4BzB,EAC1BC,cACES,O,ICEYjD,kBLiBcA,iBAC5B,IACE,MAAM0B,EAAa,IAAI,IAAIuC,UAAUlE,EAAK,kDAC1C0B,EAAQC,WAAaA,C,CACrB,MAAOF,GACP0C,QAAQ1C,MAAMA,E,EKrBhB2C,GLwB0BnE,iBAC1B,IACE,MAAM4B,QAAiB7B,EAAK,sCAC5B0B,EAAQE,cAAcC,SAAWA,C,CACjC,MAAOJ,GACP0C,QAAQ1C,MAAMA,E,EK5BhB4C,E,CAFcpE,GAKhBkE,QAAQG,IAAI5C,GACZyC,QAAQG,IAAIrC","sources":["js/config.js","js/helpers.js","js/model.js","js/views/View.js","js/views/headerView.js","js/views/menuView.js","js/views/favoritesView.js","js/controller.js"],"sourcesContent":["export const TIMEOUT_SEC = 10;\r\nexport const RES_PER_PAGE = 20;\r\n\r\nexport const API_URL = `https://fakestoreapi.com/products/`;\r\n","import { TIMEOUT_SEC } from './config.js';\r\n\r\nconst timeout = function (time) {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(() => {\r\n      reject(new Error('The request timed out! The request took too long!'));\r\n    }, time * 1000);\r\n  });\r\n};\r\n//\r\nexport const AJAX = async function (\r\n  url,\r\n  options = undefined,\r\n  uploadData = undefined\r\n) {\r\n  try {\r\n    const fetchPro = uploadData\r\n      ? fetch(url, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json', // send data in json format\r\n          },\r\n          body: JSON.stringify(uploadData),\r\n        })\r\n      : fetch(url, options);\r\n\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    // rethrowing the error in order to handle it in the original loadRecipe async function which is calling the getJSON.\r\n    throw error;\r\n  }\r\n};\r\n","import { RES_PER_PAGE, API_URL } from './config.js';\r\n\r\nimport { AJAX } from './helpers.js';\r\n\r\nexport const AppData = {\r\n  categories: [],\r\n  products_info: {\r\n    products: [],\r\n    get product_count() {\r\n      return this.products.length;\r\n    },\r\n  },\r\n};\r\n\r\nexport const state = {\r\n  product: undefined,\r\n  search: {\r\n    results: [],\r\n    page: 1,\r\n    resultsPerPage: RES_PER_PAGE,\r\n  },\r\n};\r\n\r\nexport const loadCategories = async function () {\r\n  try {\r\n    const categories = [...new Set(await AJAX(`${API_URL}categories`))];\r\n    AppData.categories = categories;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const loadProducts = async function () {\r\n  try {\r\n    const products = await AJAX(`${API_URL}`);\r\n    AppData.products_info.products = products;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n","export default class View {\r\n  #data;\r\n}\r\n","class HeaderView {\r\n  constructor() {\r\n    this.#stickyNavigation();\r\n  }\r\n  #stickyNavigation() {\r\n    const header = document.querySelector('header');\r\n    const headerHeight = header.offsetHeight;\r\n    const mainElement = document.querySelector('main');\r\n    mainElement.style.marginTop = `${headerHeight}px`;\r\n  }\r\n}\r\n\r\nexport default new HeaderView();\r\n","import View from './View';\r\nclass HeaderView extends View {\r\n  #parentElement = document.querySelector('.menu-container');\r\n  constructor() {\r\n    super();\r\n    this.#handleMenuButtonClick();\r\n  }\r\n  #handleMenuButtonClick() {\r\n    window.addEventListener('click', e => {\r\n      e.preventDefault();\r\n      const overlay = e.target.closest('.overlay');\r\n      const menuElement = e.target.closest(`[data-btn-name=\"menu-btn\"]`);\r\n      if (!menuElement && !overlay) return;\r\n      this.#toggleMenu();\r\n    });\r\n  }\r\n  #toggleMenu() {\r\n    const overlay = document.querySelector('.overlay');\r\n    const menuContainer = document.querySelector('.menu-container');\r\n    const mainElement = document.querySelector('main');\r\n\r\n    menuContainer.classList.contains('hidden')\r\n      ? (menuContainer.style.transform = 'translateX(0)')\r\n      : (menuContainer.style.transform = 'translateX(100%)');\r\n\r\n    overlay.classList.toggle('hidden');\r\n    menuContainer.classList.toggle('hidden');\r\n    mainElement.classList.toggle('blur');\r\n\r\n    // const changeIcon = btnEl.querySelector('span');\r\n    // changeIcon.textContent =\r\n    //   changeIcon.textContent === 'manage_search' ? 'close' : 'manage_search';\r\n    // console.log(changeIcon.textContent);\r\n  }\r\n}\r\n\r\nexport default new HeaderView();\r\n","import View from './View';\r\n\r\nclass FavortiesView extends View {\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\nexport default new FavortiesView();\r\n","import * as model from './model.js';\r\nimport View from './views/View.js';\r\nimport HeaderView from './views/headerView.js';\r\nimport menuView from './views/menuView.js';\r\nimport favoritesView from './views/favoritesView.js';\r\n\r\nconst initate = (async function () {\r\n  model.loadCategories();\r\n  model.loadProducts();\r\n})();\r\n\r\nconsole.log(model.AppData);\r\nconsole.log(model.state);\r\n"],"names":["$55e824ff15c161b3$export$2b3ff41fecbef7c8","async","url","options","uploadData","fetchPro","fetch","method","headers","body","JSON","stringify","res","Promise","race","time","_","reject","setTimeout","Error","data","json","ok","message","status","error","$f381a3c3b9cf5311$export$b531eccea6f91101","categories","products_info","products","product_count","this","length","$f381a3c3b9cf5311$export$ca000e230c0caa3e","product","undefined","search","results","page","resultsPerPage","$979d8bedf0abc0db$export$2e2bcd8739ae039","constructor","stickyNavigation","headerHeight","document","querySelector","offsetHeight","style","marginTop","parentElement","super","handleMenuButtonClick","window","addEventListener","e","preventDefault","overlay","target","closest","toggleMenu","menuContainer","mainElement","classList","contains","transform","toggle","Set","console","$f381a3c3b9cf5311$export$8a2309c206509e37","$f381a3c3b9cf5311$export$d8af8dff3417abfd","log"],"version":3,"file":"index.8be5d136.js.map"}
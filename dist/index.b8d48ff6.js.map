{"mappings":"AAAO,MCUMA,EAAOC,eAClBC,EACAC,EACAC,GAEA,IACE,MAAMC,EAAWD,EACbE,MAAMJ,EAAK,CACTK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUP,KAEvBE,MAAMJ,EAAKC,GAETS,QAAYC,QAAQC,KAAK,CAACT,GAxBVU,EDFC,GCGlB,IAAIF,SAAQ,SAAUG,EAAGC,GAC9BC,YAAW,KACTD,EAAO,IAAIE,MAAM,qDAAqD,GAC9D,IAAPJ,E,OAsBGK,QAAaR,EAAIS,OAEvB,IAAKT,EAAIU,GAAI,MAAM,IAAIH,MAAM,GAAGC,EAAKG,YAAYX,EAAIY,WAErD,OAAOJ,C,CACP,MAAOK,GAEP,MAAMA,C,CAjCM,IAAUV,C,ECEbW,EAAU,CACrBC,WAAY,GACZC,cAAe,CACbC,SAAU,GACNC,oBACF,OAAOC,KAAKF,SAASG,M,ICTZ,MAAAC,EACbb,GACAc,cACEH,MAAKI,G,CAEPA,KACE,MACMC,EADSC,SAASC,cAAc,UACVC,aACRF,SAASC,cAAc,QAC/BE,MAAMC,UAAY,GAAGL,K,ECyBtB,IAjCf,cAAuBH,EACrBS,GAAiBL,SAASC,cAAc,mBACxCJ,cACES,QACAZ,MAAKa,G,CAEPA,KACEC,OAAOC,iBAAiB,SAASC,IAC/BA,EAAEC,iBACiBD,EAAEE,OAAOC,QAAQ,+BAEpCnB,MAAKoB,GAAa,G,CAGtBA,KACE,MAAMC,EAAUf,SAASC,cAAc,YACjCe,EAAgBhB,SAASC,cAAc,mBACvCgB,EAAcjB,SAASC,cAAc,QAC3Ce,EAAcE,UAAUC,SAAS,UAC5BH,EAAcb,MAAMiB,UAAY,gBAChCJ,EAAcb,MAAMiB,UAAY,mBAErCL,EAAQG,UAAUG,OAAO,UACzBL,EAAcE,UAAUG,OAAO,UAC/BJ,EAAYC,UAAUG,OAAO,O,ICrBjBzD,kBHmBcA,iBAC5B,IACE,MAAM0B,EAAa,IAAI,IAAIgC,UAAU3D,EAAK,kDAC1C0B,EAAQC,WAAaA,C,CACrB,MAAOF,GACPmC,QAAQnC,MAAMA,E,EGvBhBoC,GH0B0B5D,iBAC1B,IACE,MAAM4B,QAAiB7B,EAAK,sCAC5B0B,EAAQE,cAAcC,SAAWA,C,CACjC,MAAOJ,GACPmC,QAAQnC,MAAMA,E,EG9BhBqC,E,CAFc7D","sources":["js/config.js","js/helpers.js","js/model.js","js/views/View.js","js/views/menuView.js","js/controller.js"],"sourcesContent":["export const TIMEOUT_SEC = 10;\r\nexport const RES_PER_PAGE = 20;\r\n\r\nexport const API_URL = `https://fakestoreapi.com/products/`;\r\n","import { TIMEOUT_SEC } from './config.js';\r\n\r\nconst timeout = function (time) {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(() => {\r\n      reject(new Error('The request timed out! The request took too long!'));\r\n    }, time * 1000);\r\n  });\r\n};\r\n//\r\nexport const AJAX = async function (\r\n  url,\r\n  options = undefined,\r\n  uploadData = undefined\r\n) {\r\n  try {\r\n    const fetchPro = uploadData\r\n      ? fetch(url, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json', // send data in json format\r\n          },\r\n          body: JSON.stringify(uploadData),\r\n        })\r\n      : fetch(url, options);\r\n\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    // rethrowing the error in order to handle it in the original loadRecipe async function which is calling the getJSON.\r\n    throw error;\r\n  }\r\n};\r\n","import { RES_PER_PAGE, API_URL } from './config.js';\r\n\r\nimport { AJAX } from './helpers.js';\r\n\r\nexport const AppData = {\r\n  categories: [],\r\n  products_info: {\r\n    products: [],\r\n    get product_count() {\r\n      return this.products.length;\r\n    },\r\n  },\r\n};\r\n\r\nexport const state = {\r\n  product: undefined,\r\n  search: {\r\n    results: [],\r\n    page: 1,\r\n    resultsPerPage: RES_PER_PAGE,\r\n  },\r\n};\r\n\r\nexport const loadCategories = async function () {\r\n  try {\r\n    const categories = [...new Set(await AJAX(`${API_URL}categories`))];\r\n    AppData.categories = categories;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const loadProducts = async function () {\r\n  try {\r\n    const products = await AJAX(`${API_URL}`);\r\n    AppData.products_info.products = products;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n","export default class View {\r\n  #data;\r\n  constructor() {\r\n    this.#stickyNavigation();\r\n  }\r\n  #stickyNavigation() {\r\n    const header = document.querySelector('header');\r\n    const headerHeight = header.offsetHeight;\r\n    const mainElement = document.querySelector('main');\r\n    mainElement.style.marginTop = `${headerHeight}px`;\r\n  }\r\n}\r\n","import View from './View';\r\nclass MenuView extends View {\r\n  #parentElement = document.querySelector('.menu-container');\r\n  constructor() {\r\n    super();\r\n    this.#handleMenuButtonClick();\r\n  }\r\n  #handleMenuButtonClick() {\r\n    window.addEventListener('click', e => {\r\n      e.preventDefault();\r\n      const btnElement = e.target.closest(`[data-btn-name=\"menu-btn\"]`);\r\n      if (!btnElement) return;\r\n      this.#toggleMenu();\r\n    });\r\n  }\r\n  #toggleMenu() {\r\n    const overlay = document.querySelector('.overlay');\r\n    const menuContainer = document.querySelector('.menu-container');\r\n    const mainElement = document.querySelector('main');\r\n    menuContainer.classList.contains('hidden')\r\n      ? (menuContainer.style.transform = 'translateX(0)')\r\n      : (menuContainer.style.transform = 'translateX(100%)');\r\n\r\n    overlay.classList.toggle('hidden');\r\n    menuContainer.classList.toggle('hidden');\r\n    mainElement.classList.toggle('blur');\r\n\r\n    // const changeIcon = btnEl.querySelector('span');\r\n    // changeIcon.textContent =\r\n    //   changeIcon.textContent === 'manage_search' ? 'close' : 'manage_search';\r\n    // console.log(changeIcon.textContent);\r\n  }\r\n}\r\n\r\nexport default new MenuView();\r\n","import * as model from './model.js';\r\nimport View from './views/View.js';\r\nimport menuView from './views/menuView.js';\r\n\r\nconst initate = (async function () {\r\n  model.loadCategories();\r\n  model.loadProducts();\r\n})();\r\n"],"names":["$55e824ff15c161b3$export$2b3ff41fecbef7c8","async","url","options","uploadData","fetchPro","fetch","method","headers","body","JSON","stringify","res","Promise","race","time","_","reject","setTimeout","Error","data","json","ok","message","status","error","$f381a3c3b9cf5311$export$b531eccea6f91101","categories","products_info","products","product_count","this","length","$979d8bedf0abc0db$export$2e2bcd8739ae039","constructor","stickyNavigation","headerHeight","document","querySelector","offsetHeight","style","marginTop","parentElement","super","handleMenuButtonClick","window","addEventListener","e","preventDefault","target","closest","toggleMenu","overlay","menuContainer","mainElement","classList","contains","transform","toggle","Set","console","$f381a3c3b9cf5311$export$8a2309c206509e37","$f381a3c3b9cf5311$export$d8af8dff3417abfd"],"version":3,"file":"index.b8d48ff6.js.map"}